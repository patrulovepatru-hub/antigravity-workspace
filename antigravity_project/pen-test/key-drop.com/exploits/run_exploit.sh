#!/bin/bash
#
# KEY-DROP EXPLOIT LAUNCHER
# Quick launcher script for the exploit toolkit
#

EXPLOIT_DIR="/home/l0ve/pen-test/key-drop.com/exploits"
LOOT_DIR="$EXPLOIT_DIR/loot"

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
NC='\033[0m' # No Color

banner() {
    echo -e "${PURPLE}"
    echo "╔═══════════════════════════════════════════════════════════════╗"
    echo "║        KEY-DROP.COM EXPLOIT TOOLKIT LAUNCHER                 ║"
    echo "╚═══════════════════════════════════════════════════════════════╝"
    echo -e "${NC}"
}

check_deps() {
    echo -e "${BLUE}[*]${NC} Checking dependencies..."

    if ! command -v python3 &> /dev/null; then
        echo -e "${RED}[-]${NC} Python3 not found!"
        exit 1
    fi

    python3 -c "import requests" 2>/dev/null
    if [ $? -ne 0 ]; then
        echo -e "${YELLOW}[!]${NC} Installing requests library..."
        pip3 install --user requests
    fi

    echo -e "${GREEN}[+]${NC} Dependencies OK"
}

run_quick() {
    echo -e "${BLUE}[*]${NC} Running quick exploit mode..."
    cd "$EXPLOIT_DIR"
    python3 keydrop_exploit.py --quick
}

run_interactive() {
    echo -e "${BLUE}[*]${NC} Starting interactive mode..."
    cd "$EXPLOIT_DIR"
    python3 keydrop_exploit.py
}

show_loot() {
    echo -e "${BLUE}[*]${NC} Checking loot directory..."
    if [ -d "$LOOT_DIR" ]; then
        echo -e "${GREEN}[+]${NC} Loot files:"
        ls -la "$LOOT_DIR"
    else
        echo -e "${YELLOW}[!]${NC} No loot yet. Run exploit first."
    fi
}

# Main
banner

case "${1:-}" in
    --quick|-q)
        check_deps
        run_quick
        ;;
    --loot|-l)
        show_loot
        ;;
    --help|-h)
        echo "Usage: $0 [option]"
        echo ""
        echo "Options:"
        echo "  (no option)  - Interactive mode"
        echo "  --quick, -q  - Quick exploit (all exploits)"
        echo "  --loot, -l   - Show collected loot"
        echo "  --help, -h   - Show this help"
        ;;
    *)
        check_deps
        run_interactive
        ;;
esac

echo ""
echo -e "${GREEN}[+]${NC} Done. Check $LOOT_DIR for results."
